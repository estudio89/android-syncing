<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_71) on Mon Jun 15 16:10:53 BRT 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="ISO-8859-1">
<title>DataSyncHelper (E89.Syncing 1.0-SNAPSHOT API)</title>
<meta name="date" content="2015-06-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DataSyncHelper (E89.Syncing 1.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataSyncHelper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../br/com/estudio89/syncing/DatabaseProvider.html" title="interface in br.com.estudio89.syncing"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.BackgroundSyncError.html" title="class in br.com.estudio89.syncing"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?br/com/estudio89/syncing/DataSyncHelper.html" target="_top">Frames</a></li>
<li><a href="DataSyncHelper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">br.com.estudio89.syncing</div>
<h2 title="Class DataSyncHelper" class="title">Class DataSyncHelper</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>br.com.estudio89.syncing.DataSyncHelper</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DataSyncHelper</span>
extends java.lang.Object</pre>
<div class="block">Essa classe é responsável por realizar a sincronização de dados. 
 Ela se comunica com todos os <a href="../../../../br/com/estudio89/syncing/SyncManager.html" title="interface in br.com.estudio89.syncing"><code>SyncManager</code></a>s e com o Servidor, fazendo a troca de informação entre as entidades.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>luccascorrea</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.BackgroundSyncError.html" title="class in br.com.estudio89.syncing">DataSyncHelper.BackgroundSyncError</a></strong></code>
<div class="block">Evento lançado quando ocorre um erro durante a sincronização em background ou na sincronização assíncrona.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.GetFinishedEvent.html" title="class in br.com.estudio89.syncing">DataSyncHelper.GetFinishedEvent</a></strong></code>
<div class="block">Evento lançado ao receber todos os dados do servidor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.PartialSyncFinishedEvent.html" title="class in br.com.estudio89.syncing">DataSyncHelper.PartialSyncFinishedEvent</a></strong></code>
<div class="block">Evento lançado ao finalizar uma sincronização partial (recebimento + envio)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.SendFinishedEvent.html" title="class in br.com.estudio89.syncing">DataSyncHelper.SendFinishedEvent</a></strong></code>
<div class="block">Evento lançado ao finalizar o envio de dados de todos os models.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.SyncFinishedEvent.html" title="class in br.com.estudio89.syncing">DataSyncHelper.SyncFinishedEvent</a></strong></code>
<div class="block">Evento lançado ao finalizar a sincronização.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>android.content.Context</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#appContext">appContext</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../br/com/estudio89/syncing/bus/AsyncBus.html" title="class in br.com.estudio89.syncing.bus">AsyncBus</a></code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#bus">bus</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../br/com/estudio89/syncing/ServerComm.html" title="class in br.com.estudio89.syncing">ServerComm</a></code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#serverComm">serverComm</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../br/com/estudio89/syncing/SyncConfig.html" title="class in br.com.estudio89.syncing">SyncConfig</a></code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#syncConfig">syncConfig</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../br/com/estudio89/syncing/ThreadChecker.html" title="class in br.com.estudio89.syncing">ThreadChecker</a></code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#threadChecker">threadChecker</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../br/com/estudio89/syncing/CustomTransactionManager.html" title="class in br.com.estudio89.syncing">CustomTransactionManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#transactionManager">transactionManager</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#DataSyncHelper()">DataSyncHelper</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#fullAsynchronousSync()">fullAsynchronousSync</a></strong>()</code>
<div class="block">Esse método realiza uma sincronização completa de forma assíncrona, ou seja,
 primeiro busca dados novos no servidor e depois envia dados que tenham sido
 criados no dispositivo (caso existam).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#fullSynchronousSync()">fullSynchronousSync</a></strong>()</code>
<div class="block">Esse método realiza uma sincronização completa de forma síncrona, ou seja,
 primeiro busca dados novos no servidor e depois envia dados que tenham sido
 criados no dispositivo (caso existam).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#getDataFromServer()">getDataFromServer</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#getDataFromServer(java.lang.String)">getDataFromServer</a></strong>(java.lang.String&nbsp;identifier)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#getDataFromServer(java.lang.String,%20org.json.JSONObject)">getDataFromServer</a></strong>(java.lang.String&nbsp;identifier,
                 org.json.JSONObject&nbsp;parameters)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html" title="class in br.com.estudio89.syncing">DataSyncHelper</a></code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#getInstance()">getInstance</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#hasModifiedData()">hasModifiedData</a></strong>()</code>
<div class="block">Esse método verifica se algum dos <a href="../../../../br/com/estudio89/syncing/SyncManager.html" title="interface in br.com.estudio89.syncing"><code>SyncManager</code></a>s possui necessidade de enviar dados ao servidor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#partialAsynchronousSync(java.lang.String)">partialAsynchronousSync</a></strong>(java.lang.String&nbsp;identifier)</code>
<div class="block">Esse método realiza uma sincronização de um model específico de forma assíncrona,
 executando o método getDataFromServer(String identifier) e sendDataToServer(String identifier)
 em um thread à parte.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#partialAsynchronousSync(java.lang.String,%20org.json.JSONObject)">partialAsynchronousSync</a></strong>(java.lang.String&nbsp;identifier,
                       org.json.JSONObject&nbsp;parameters)</code>
<div class="block">Esse método realiza uma sincronização de um model específico de forma assíncrona,
 executando o método getDataFromServer(String identifier, JSONObject parameters)
 em um thread à parte.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#partialSynchronousSync(java.lang.String)">partialSynchronousSync</a></strong>(java.lang.String&nbsp;identifier)</code>
<div class="block">Esse método realiza uma sincronização de um model específico de forma síncrona, ou seja,
 primeiro busca dados novos no servidor e depois envia dados que tenham sido
 criados no dispositivo (caso existam).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#postBackgroundSyncError(java.lang.Throwable)">postBackgroundSyncError</a></strong>(java.lang.Throwable&nbsp;t)</code>
<div class="block">Lança um evento quando há erro na sincronização.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#postGetFinishedEvent()">postGetFinishedEvent</a></strong>()</code>
<div class="block">Lança um evento indicando que o recebimento de dados foi finalizado.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#postPartialSyncFinishedEvent()">postPartialSyncFinishedEvent</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#postSendFinishedEvent()">postSendFinishedEvent</a></strong>()</code>
<div class="block">Lança um evento indicando que o envio de dados foi finalizado.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#postSyncFinishedEvent()">postSyncFinishedEvent</a></strong>()</code>
<div class="block">Lança um evento indicando que a sincronização (recebimento + envio) foi finalizada.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#runSynchronousSync(java.lang.String)">runSynchronousSync</a></strong>(java.lang.String&nbsp;identifier)</code>
<div class="block">This method wraps the internalRunSynchronousSync method,
 in order to report exceptions without crashing the app and
 using exponential backoff when the server is overloaded.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#sendCaughtException(java.lang.Throwable)">sendCaughtException</a></strong>(java.lang.Throwable&nbsp;t)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#sendDataToServer()">sendDataToServer</a></strong>()</code>
<div class="block">Esse é um método público que serve para buscar dados do servidor quando se necessita 
 de um model específico e de um número limitado de itens anteriores aos que já estão
 armazenados no banco.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#sendDataToServer(java.lang.String)">sendDataToServer</a></strong>(java.lang.String&nbsp;identifier)</code>
<div class="block">Método utilizado para enviar dados ao servidor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html#stopSyncThreads()">stopSyncThreads</a></strong>()</code>
<div class="block">Método público, o qual limpa o <a href="../../../../br/com/estudio89/syncing/ThreadChecker.html" title="class in br.com.estudio89.syncing"><code>ThreadChecker</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="appContext">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appContext</h4>
<pre>public&nbsp;android.content.Context appContext</pre>
</li>
</ul>
<a name="bus">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bus</h4>
<pre>public&nbsp;<a href="../../../../br/com/estudio89/syncing/bus/AsyncBus.html" title="class in br.com.estudio89.syncing.bus">AsyncBus</a> bus</pre>
</li>
</ul>
<a name="syncConfig">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>syncConfig</h4>
<pre>public&nbsp;<a href="../../../../br/com/estudio89/syncing/SyncConfig.html" title="class in br.com.estudio89.syncing">SyncConfig</a> syncConfig</pre>
</li>
</ul>
<a name="serverComm">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverComm</h4>
<pre>public&nbsp;<a href="../../../../br/com/estudio89/syncing/ServerComm.html" title="class in br.com.estudio89.syncing">ServerComm</a> serverComm</pre>
</li>
</ul>
<a name="transactionManager">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transactionManager</h4>
<pre>public&nbsp;<a href="../../../../br/com/estudio89/syncing/CustomTransactionManager.html" title="class in br.com.estudio89.syncing">CustomTransactionManager</a> transactionManager</pre>
</li>
</ul>
<a name="threadChecker">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>threadChecker</h4>
<pre>public&nbsp;<a href="../../../../br/com/estudio89/syncing/ThreadChecker.html" title="class in br.com.estudio89.syncing">ThreadChecker</a> threadChecker</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DataSyncHelper()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DataSyncHelper</h4>
<pre>public&nbsp;DataSyncHelper()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../br/com/estudio89/syncing/DataSyncHelper.html" title="class in br.com.estudio89.syncing">DataSyncHelper</a>&nbsp;getInstance()</pre>
</li>
</ul>
<a name="getDataFromServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataFromServer</h4>
<pre>public&nbsp;boolean&nbsp;getDataFromServer()
                          throws java.io.IOException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getDataFromServer(java.lang.String, org.json.JSONObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataFromServer</h4>
<pre>protected&nbsp;boolean&nbsp;getDataFromServer(java.lang.String&nbsp;identifier,
                        org.json.JSONObject&nbsp;parameters)
                             throws java.io.IOException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getDataFromServer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataFromServer</h4>
<pre>protected&nbsp;boolean&nbsp;getDataFromServer(java.lang.String&nbsp;identifier)
                             throws java.io.IOException</pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="sendDataToServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendDataToServer</h4>
<pre>public&nbsp;boolean&nbsp;sendDataToServer()
                         throws java.io.IOException</pre>
<div class="block">Esse é um método público que serve para buscar dados do servidor quando se necessita 
 de um model específico e de um número limitado de itens anteriores aos que já estão
 armazenados no banco. Esse método possibilita realizar cache parcial de informaçães,
 ou seja, na sincronização inicial são trazidos apenas os últimos X dados do servidor e, 
 caso o usuário solicitar (por exemplo rolando uma timeline) dados anteriores são solicitados
 do servidor.
 A lógica utilizada é a seguinte:
 <ol>
 <li> Adiciona um identificador para o thread executado.
 <li> Busca o token e, caso for nulo, interrompe a execução.
 <li> É montado um objeto JSON contendo o token e os parâmetros passados.
 <li> É feita uma requisição para a url que corresponde ao identifier. 
 <li> Recebe a resposta do servidor como um objeto JSON.
 <li> É buscado o SyncManager correspondente.
 <li> Para o SyncManager encontrado, faz com que salve os dados recebidos.
 <li> Lança um evento de sincronização finalizada para aquele determinado SyncManager, passando os novos dados recebidos junto ao evento.
 <li> Verifica se o identificador do thread ainda é válido e, caso sim, dá commit na transação.
 </ol></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>identifier</code> - identificador do <a href="../../../../br/com/estudio89/syncing/SyncManager.html" title="interface in br.com.estudio89.syncing"><code>SyncManager</code></a> solicitado.</dd><dd><code>parameters</code> - objeto JSON contendo parâmetros necessários para realizar a busca no servidor.</dd>
<dt><span class="strong">Returns:</span></dt><dd>boolean indicando se a busca de dados foi realizada. Só será false se o usuário fizer logout antes que termine.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="sendDataToServer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendDataToServer</h4>
<pre>protected&nbsp;boolean&nbsp;sendDataToServer(java.lang.String&nbsp;identifier)
                            throws java.io.IOException</pre>
<div class="block">Método utilizado para enviar dados ao servidor.
 Esse método opera com a seguinte lógica
 <ol>
 <li>Adiciona um identificador para o thread executado.
 <li>Busca o token e, caso for nulo, interrompe a execução.
 <li>Monta o objeto JSON contendo metadados (token, timestamp e identificador do device).
 <li>Faz um loop em cada <a href="../../../../br/com/estudio89/syncing/SyncManager.html" title="interface in br.com.estudio89.syncing"><code>SyncManager</code></a> e, para cada um, verifica se é necessário que o envio
 seja feito de um e um ou não.
 Caso o envio deva ser feito de um em um:
        <ol>
                <li>Faz um loop dentro de todos os objetos JSON a serem enviados</li>
                <li>Para cada objeto, faz um post de envio contendo o próprio objeto e os arquivos que o acompanham.</li>
                <li>Processa a resposta do envio dos dados.</li>
        </ol>
 Caso o envio possa ser feito agrupado:
        <ol>
                <li>Adiciona todos os dados de todos os SyncManagers a um único objeto JSON, contendo também os arquivos.</li>
        </ol>
 </li>
 <li>Verifica se existem dados a serem enviados em conjunto.
 <li>Faz o envio dos dados e processa a resposta do envio.
 <li>Posta evento indicando que todos os dados foram enviados.
 </ol></div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="runSynchronousSync(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runSynchronousSync</h4>
<pre>protected&nbsp;boolean&nbsp;runSynchronousSync(java.lang.String&nbsp;identifier)
                              throws java.io.IOException</pre>
<div class="block">This method wraps the internalRunSynchronousSync method,
 in order to report exceptions without crashing the app and
 using exponential backoff when the server is overloaded.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="fullSynchronousSync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fullSynchronousSync</h4>
<pre>public&nbsp;boolean&nbsp;fullSynchronousSync()
                            throws java.io.IOException</pre>
<div class="block">Esse método realiza uma sincronização completa de forma síncrona, ou seja,
 primeiro busca dados novos no servidor e depois envia dados que tenham sido
 criados no dispositivo (caso existam).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="partialSynchronousSync(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partialSynchronousSync</h4>
<pre>public&nbsp;boolean&nbsp;partialSynchronousSync(java.lang.String&nbsp;identifier)
                               throws java.io.IOException</pre>
<div class="block">Esse método realiza uma sincronização de um model específico de forma síncrona, ou seja,
 primeiro busca dados novos no servidor e depois envia dados que tenham sido
 criados no dispositivo (caso existam).</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="fullAsynchronousSync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fullAsynchronousSync</h4>
<pre>public&nbsp;void&nbsp;fullAsynchronousSync()</pre>
<div class="block">Esse método realiza uma sincronização completa de forma assíncrona, ou seja,
 primeiro busca dados novos no servidor e depois envia dados que tenham sido
 criados no dispositivo (caso existam).</div>
</li>
</ul>
<a name="partialAsynchronousSync(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partialAsynchronousSync</h4>
<pre>public&nbsp;void&nbsp;partialAsynchronousSync(java.lang.String&nbsp;identifier)</pre>
<div class="block">Esse método realiza uma sincronização de um model específico de forma assíncrona,
 executando o método getDataFromServer(String identifier) e sendDataToServer(String identifier)
 em um thread à parte.</div>
</li>
</ul>
<a name="partialAsynchronousSync(java.lang.String, org.json.JSONObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>partialAsynchronousSync</h4>
<pre>public&nbsp;void&nbsp;partialAsynchronousSync(java.lang.String&nbsp;identifier,
                           org.json.JSONObject&nbsp;parameters)</pre>
<div class="block">Esse método realiza uma sincronização de um model específico de forma assíncrona,
 executando o método getDataFromServer(String identifier, JSONObject parameters)
 em um thread à parte. Esse método não envia o timestamp ao servidor e nem envia
 dados ao servidor. Deve ser usado apenas para paginação.</div>
</li>
</ul>
<a name="hasModifiedData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasModifiedData</h4>
<pre>public&nbsp;boolean&nbsp;hasModifiedData()</pre>
<div class="block">Esse método verifica se algum dos <a href="../../../../br/com/estudio89/syncing/SyncManager.html" title="interface in br.com.estudio89.syncing"><code>SyncManager</code></a>s possui necessidade de enviar dados ao servidor.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="sendCaughtException(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendCaughtException</h4>
<pre>public&nbsp;void&nbsp;sendCaughtException(java.lang.Throwable&nbsp;t)</pre>
</li>
</ul>
<a name="stopSyncThreads()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopSyncThreads</h4>
<pre>public&nbsp;void&nbsp;stopSyncThreads()</pre>
<div class="block">Método público, o qual limpa o <a href="../../../../br/com/estudio89/syncing/ThreadChecker.html" title="class in br.com.estudio89.syncing"><code>ThreadChecker</code></a>.
 Esse método deve ser chamado ao fazer logout, o que 
 garante que se uma sincronização estiver sendo realizada, 
 nenhum dado será salvo no banco de dados quando ela finalizar
 assim como o timestamp não será alterado.</div>
</li>
</ul>
<a name="postSendFinishedEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postSendFinishedEvent</h4>
<pre>protected&nbsp;void&nbsp;postSendFinishedEvent()</pre>
<div class="block">Lança um evento indicando que o envio de dados foi finalizado.</div>
</li>
</ul>
<a name="postGetFinishedEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postGetFinishedEvent</h4>
<pre>protected&nbsp;void&nbsp;postGetFinishedEvent()</pre>
<div class="block">Lança um evento indicando que o recebimento de dados foi finalizado.</div>
</li>
</ul>
<a name="postSyncFinishedEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postSyncFinishedEvent</h4>
<pre>protected&nbsp;void&nbsp;postSyncFinishedEvent()</pre>
<div class="block">Lança um evento indicando que a sincronização (recebimento + envio) foi finalizada.</div>
</li>
</ul>
<a name="postPartialSyncFinishedEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>postPartialSyncFinishedEvent</h4>
<pre>protected&nbsp;void&nbsp;postPartialSyncFinishedEvent()</pre>
</li>
</ul>
<a name="postBackgroundSyncError(java.lang.Throwable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>postBackgroundSyncError</h4>
<pre>public&nbsp;void&nbsp;postBackgroundSyncError(java.lang.Throwable&nbsp;t)</pre>
<div class="block">Lança um evento quando há erro na sincronização.
 Chamado pelo SyncService.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>t</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DataSyncHelper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../br/com/estudio89/syncing/DatabaseProvider.html" title="interface in br.com.estudio89.syncing"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../br/com/estudio89/syncing/DataSyncHelper.BackgroundSyncError.html" title="class in br.com.estudio89.syncing"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?br/com/estudio89/syncing/DataSyncHelper.html" target="_top">Frames</a></li>
<li><a href="DataSyncHelper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright © 2015 <a href="http://www.estudio89.com.br">Estúdio 89 Desenvolvimento de Software LTDA.</a>. All Rights Reserved.</small></p>
</body>
</html>
